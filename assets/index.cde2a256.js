function u(t){if(t===null)return null;if(typeof t=="object"){if(Array.isArray(t))return t.map(e=>u(e));if(t instanceof Map){const e=new Map;return t.forEach((f,o)=>e.set(o,u(f))),e}if(t instanceof Set){const e=new Set;return t.forEach(f=>e.add(u(f))),e}if(t instanceof Date)return new Date(t);const n={};for(const e in t)n[e]=u(t[e]);return n}return t}function k(t){return typeof t=="function"&&!!t.constructor}function d(t){return t[Math.floor(Math.random()*t.length)]}async function j(t,n){const e=n?Math.random()*(n-t)+t:t;!e||await new Promise(f=>setTimeout(f,e))}function w(t,n,e){let f=!1;const o={},r=async()=>{if(f)return;f=!0;const s=await(e==null?void 0:e(o));await j(n),f&&(t(s,o),f=!1)};return Object.defineProperties(r,{flag:{get:()=>f,set:s=>{f=s}}}),r}function l(t){var f;const n=(f=t==null?void 0:t.constructor)==null?void 0:f.name;if(n)return n;const e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function a(t,n){if(t===n)return!0;const e=l(t),f=l(n);if(e!=f)return!1;switch(e){case"Number":return isNaN(t)&&isNaN(n)?!0:t===n;case"Array":if(t.length!=n.length)return!1;for(let r=t.length;r--;)if(!a(t[r],n[r]))return!1;return!0;case"Object":for(const r in t)if(!a(t[r],n[r]))return!1;return!0;case"Set":if(t.size!=n.size)return!1;const o=new Map(n.entries());for(const r of t){if(n.has(r))return!0;let s=!1;for(const[c,i]of o)if(a(r,i)){o.delete(c),s=!0;break}if(!s)return!1}return!0;case"Map":if(t.size!=n.size)return!1;for(const[r,s]of t)if(!a(s,n.get(r)))return!1;return!0;case"Date":return t.getTime()===n.getTime();default:return t.equals?t.equals(n):!1}}function g(t,n){if(t===n)return null;const e=l(t),f=l(n);if(e!=f)return u(n);if(e!="Object")return a(t,n)?null:u(n);let o=!1;const r={},s=new Set([...Object.keys(t),...Object.keys(n)]);for(const c of s){const i=t[c],h=n[c];if(h==null){o=!0,r[c]=null;continue}const y=g(i,h);y!==null&&(o=!0,r[c]=y)}return o?r:null}function m(t,n){const e=l(t),f=l(n);if(e!=f||e!=="Object")return n;for(const o in n){const r=n[o];if(r===null){delete t[o];continue}t[o]=m(t[o],r)}return t}function p(t,n=1/0,e=!1){const f=(o,r)=>{if(r<=0||typeof o!="object"||Array.isArray(o)&&!e)return[o,!1];const s={};for(const c in o){const[i,h]=f(o[c],r-1);if(!h){s[c]=i;continue}for(const y in i)s[`${c}.${y}`]=i[y]}return[s,!0]};return f(t,n+1)[0]}function M(t,n,...e){if(!t||n==null&&!e.length)return t;e.unshift(n),(typeof n!="object"||n instanceof String)&&(n=e);let f=0;return t.replace(/\{([0-9A-Za-z]*)\}/g,(o,r)=>{r==""&&(r=f),f++;const s=n[r];if(s!=null)return s;const c=e[r];return c!=null?c:o})}export{w as batch,u as clone,j as delay,a as equals,p as flat,M as format,l as getType,k as isFunction,d as listRandom,g as objDiff,m as objUpdate};
//# sourceMappingURL=index.cde2a256.js.map
